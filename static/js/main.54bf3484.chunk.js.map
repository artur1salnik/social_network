{"version":3,"sources":["components/Navbar/Navbar.module.css","redux/messagesReducer.js","components/Users/Users.module.css","api/api.js","reportWebVitals.js","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","utils/validators/objectHelpers.js","redux/usersReducer.js","components/common/Paginator/Paginator.jsx","assets/images/user.jpg","components/Users/User.jsx","components/Users/Users.jsx","redux/usersSelectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/authReducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/appReducer.js","redux/sidebarReducer.js","redux/reduxStore.js","hoc/withSuspense.js","App.js","index.js","components/common/FormsControls/FormsControls.js","components/common/FormsControls/FormsControls.module.css","assets/images/preloader.gif","components/common/Preloader/Preloader.js","components/common/Paginator/Paginator.module.css","utils/validators/validators.js","components/Header/Header.module.css","redux/profileReducer.js"],"names":["module","exports","SEND_MESSAGE","initialState","dialogs","id","name","messages","message","sendMessageActionCreator","newMessageText","type","messagesReducer","state","action","body","instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","classes","nav","item","to","activeClassName","activeLink","active","friends","friendsItem","src","News","Music","Settings","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","onClick","p","cn","selectedPage","pageNumber","e","User","user","photos","small","userPhoto","disabled","some","Users","props","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","Preloader","React","Component","compose","connect","bind","page","totalCount","Header","header","loginBlock","isAuth","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","required","Input","formSummaryError","length","stopSubmit","_error","formData","INITIALIZED_SUCCESS","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","messagesPage","sidebar","formReducer","app","store","createStore","applyMiddleware","thunkMiddleWare","window","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","component","AppContainer","withRouter","promise","Promise","all","MainApp","ReactDOM","StrictMode","document","getElementById","FormControl","input","meta","touched","children","hasError","formControl","Textarea","restProps","child","placeholder","validators","text","validate","preloader","value","maxLengthCreator","maxLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","posts","likes","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","newPost","postId"],"mappings":"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","file":"static/js/main.54bf3484.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1erox\",\"item\":\"Navbar_item__2wJ1B\",\"activeLink\":\"Navbar_activeLink__1PQzC\",\"friends\":\"Navbar_friends__1zHNR\",\"friendsItem\":\"Navbar_friendsItem__WP3rj\"};","const SEND_MESSAGE = 'SEND-MESSAGE'\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Artur'},\r\n        {id: 2, name: 'Dima'},\r\n        {id: 3, name: 'Vika'},\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'Hello'},\r\n        {id: 3, message: 'Goodbye'},\r\n    ],\r\n}\r\n\r\nconst messagesReducer = (state = initialState, action) => {\r\n    let stateCopy\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageText\r\n            return  {\r\n                ...state,\r\n                messages: [...state.messages, {id: 6, message: body}],\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const sendMessageActionCreator = (newMessageText) => ({type: SEND_MESSAGE, newMessageText})\r\n\r\nexport default messagesReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__3E543\"};","import axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': 'd4c1088d-aed8-4ba8-8a8b-33b85dfd748d'\r\n    },\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        console.warn('Obsolete method')\r\n        return profileAPI.getProfile(userId)\r\n    },\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put('profile/status', {status: status})\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import classes from'./Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={classes.nav}>\r\n            <div className={classes.item}>\r\n                <NavLink to='/profile' activeClassName={classes.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={`${classes.item} ${classes.active}`}>\r\n                <NavLink to='/dialogs' activeClassName={classes.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={`${classes.item} ${classes.active}`}>\r\n                <NavLink to='/users' activeClassName={classes.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/news' activeClassName={classes.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/music' activeClassName={classes.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/settings' activeClassName={classes.activeLink}>Settings</NavLink>\r\n            </div>\r\n            <div className={classes.friends}>\r\n                <div>Friends</div>\r\n                <div className={classes.friendsItem}>\r\n                    <img src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSmbTeW6ZigluoWxAPFoKzVghKEMTRjpxRRog&usqp=CAU'/>\r\n                    <div>Artur</div>\r\n                </div>\r\n                <div className={classes.friendsItem}>\r\n                    <img src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRltvBEVwZUC1nI-q-4QnueJjvDFPOrHqBWig&usqp=CAU'/>\r\n                    <div>Dima</div>\r\n                </div>\r\n                <div className={classes.friendsItem}>\r\n                    <img src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQt86sQ9Ya33SIwiA1tc4FGlpq1jqhimI_XVw&usqp=CAU'/>\r\n                    <div>Vika</div>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import classes from './News.module.css';\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>News</div>\r\n    )\r\n}\r\n\r\nexport default News;","import classes from './Music.module.css';\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import classes from './Settings.module.css';\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u\r\n    })\r\n}","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/validators/objectHelpers\";\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state, users: action.users\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {...state, totalUsersCount: action.count}\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId})\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount})\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n})\r\n\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n        dispatch(setCurrentPage(page))\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setTotalUsersCount(data.totalCount))\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    let response = await apiMethod(userId)\r\n    if (response.data.resultCode == 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess)\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess)\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import classes from \"./Paginator.module.css\";\r\nimport {useState} from \"react\";\r\nimport cn from \"classnames\";\r\n\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return (\r\n        <div className={classes.paginator}>\r\n            {portionNumber > 1 &&\r\n            <button onClick={() => {\r\n                setPortionNumber(portionNumber - 1)\r\n            }}>PREV</button>}\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map(p => {\r\n                    return <span className={ cn({\r\n                        [classes.selectedPage]: currentPage === p\r\n                    },classes.pageNumber)}\r\n                                 key={p}\r\n                                 onClick={(e) => onPageChanged(p)}>{p}</span>\r\n                })}\r\n            {portionCount > portionNumber &&\r\n            <button onClick={() => {\r\n                setPortionNumber(portionNumber + 1)\r\n            }}>NEXT</button>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator;","export default __webpack_public_path__ + \"static/media/user.e22b6687.jpg\";","import classes from \"./Users.module.css\";\r\nimport userPhoto from \"../../assets/images/user.jpg\";\r\nimport React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nlet User = ({user, followingInProgress, unfollow, follow}) => {\r\n\r\n    return (\r\n        <div>\r\n            <span>\r\n                        <div>\r\n                            <NavLink to={'/profile/' + user.id}>\r\n                                <img src={user.photos.small != null ? user.photos.small : userPhoto}\r\n                                     className={classes.userPhoto}/>\r\n                            </NavLink>\r\n                        </div>\r\n                        <div>\r\n                            {user.followed\r\n                                ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                                    unfollow(user.id)\r\n                                }}>Unfollow</button>\r\n\r\n                                : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                                    follow(user.id)\r\n                                }}>Follow</button>}\r\n                        </div>\r\n            </span>\r\n            <span>\r\n                        <span>\r\n                            <div>{user.name}</div>\r\n                            <div>{user.status}</div>\r\n                        </span>\r\n                        <span>\r\n                            <div>{'user.location.country'}</div>\r\n                            <div>{'user.location.city'}</div>\r\n                        </span>\r\n            </span>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;","import React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\n\r\nlet Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props}) => {\r\n\r\n    return (\r\n        <div>\r\n            <Paginator currentPage={currentPage} onPageChanged={onPageChanged}\r\n                       totalItemsCount={totalUsersCount} pageSize={pageSize}/>\r\n            <div>\r\n                {\r\n                    users.map(u => <User user={u}\r\n                                         key={u.id}\r\n                                         followingInProgress={props.followingInProgress}\r\n                                         unfollow={props.unfollow}\r\n                                         follow={props.follow}/>\r\n                    )\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;","import {createSelector} from \"reselect\";\r\n\r\nexport const getUsersSelector = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(u => true)\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}","import {connect} from \"react-redux\";\r\nimport {\r\n    follow,\r\n    setCurrentPage,\r\n    unfollow, toggleFollowingProgress, requestUsers\r\n} from \"../../redux/usersReducer\";\r\nimport React from \"react\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount, getUsers,\r\n} from \"../../redux/usersSelectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props\r\n        this.props.getUsers(currentPage, pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props\r\n        this.props.getUsers(pageNumber, pageSize)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.props.isFetching ? <Preloader/> : null}\r\n                <Users totalUsersCount={this.props.totalUsersCount}\r\n                       pageSize={this.props.pageSize}\r\n                       currentPage={this.props.currentPage}\r\n                       onPageChanged={this.onPageChanged}\r\n                       users={this.props.users}\r\n                       follow={this.props.follow}\r\n                       unfollow={this.props.unfollow}\r\n                       followingInProgress={this.props.followingInProgress}/>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    // withAuthRedirect,\r\n    connect(mapStateToProps,{follow, unfollow, setCurrentPage, toggleFollowingProgress, getUsers: requestUsers})\r\n)(UsersContainer)","import classes from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={classes.header}>\r\n            <img src='https://koloro.ua/media/upload/images/logo2.jpg'/>\r\n            <div className={classes.loginBlock}>\r\n                {props.isAuth ?\r\n                    <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n                    : <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA'\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA, payload:\r\n        {userId, email, login, isAuth}\r\n})\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me()\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data\r\n        dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n        dispatch(stopSubmit('login', {_error: message}))\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport default authReducer;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/authReducer\";\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return (\r\n            <Header {...this.props}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import {reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/authReducer\";\r\nimport {Redirect} from \"react-router\";\r\nimport classes from \"../common/FormsControls/FormsControls.module.css\";\r\n\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField('Email', 'email', [required], Input)}\r\n            {createField('Password', 'password', [required], Input, {type: 'password'})}\r\n            {createField(null, 'rememberMe', [], Input, {type: 'checkbox'}, 'remember me')}\r\n\r\n            { error &&\r\n            <div className={classes.formSummaryError}>\r\n                {error}\r\n            </div>\r\n            }\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'Login'\r\n})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import {getAuthUserData} from \"./authReducer\";\r\n\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n        dispatch(initializedSuccess())\r\n    });\r\n}\r\n\r\nexport default appReducer;\r\n\r\n","let initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state\r\n}\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport messagesReducer from \"./messagesReducer\";\r\nimport sidebarReducer from \"./sidebarReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport appReducer from \"./appReducer\";\r\nimport thunkMiddleWare from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\";\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    messagesPage: messagesReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n})\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleWare))\r\n\r\nwindow.store = store\r\n\r\nexport default store;","import React, {Suspense} from \"react\";\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n\r\n    return (props) => {\r\n        return (\r\n            <Suspense fallback={<div>Loading...</div>}>\r\n                <Component {...props}/>\r\n            </Suspense>\r\n        )\r\n    }\r\n}","import './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport {BrowserRouter, Route} from \"react-router-dom\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport LoginPage from \"./components/Login/Login\";\nimport {Component} from \"react\";\nimport {connect, Provider} from \"react-redux\";\nimport {withRouter} from \"react-router\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/appReducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport store from \"./redux/reduxStore\";\nimport React, {Suspense} from \"react\";\nimport {withSuspense} from \"./hoc/withSuspense\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\n\n\nclass App extends Component {\n    componentDidMount() {\n        this.props.initializeApp()\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <Navbar/>\n                <div className='app-wrapper-content'>\n                    <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\n                    <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\n                    <Route path='/users' render={() => <UsersContainer/>}/>\n                    <Route path='/login' render={() => <LoginPage/>}/>\n                    <Route path='/news' component={News}/>\n                    <Route path='/music' component={Music}/>\n                    <Route path='/settings' component={Settings}/>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n})\n\nlet AppContainer = compose(\n    withRouter,\n    connect(mapStateToProps, {initializeApp})\n)(App);\n\nconst MainApp = (props) => {\n    return (\n        <BrowserRouter>\n            <Provider store={store}>\n                <AppContainer/>\n            </Provider>\n        </BrowserRouter>\n    )\n};\n\nexport default MainApp;\n","import React from 'react';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport ReactDOM from 'react-dom';\nimport MainApp from \"./App\";\n\n\nReactDOM.render(\n    <React.StrictMode>\n        <MainApp/>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import React from \"react\";\r\nimport classes from \"./FormsControls.module.css\";\r\nimport {Field} from \"redux-form\";\r\n\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n    const hasError = touched && error\r\n    return (\r\n        <div className={classes.formControl + ' ' + (hasError ? classes.error : '')}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => (\r\n    <div>\r\n        <Field placeholder={placeholder} name={name} validate={validators}\r\n               component={component} {...props}\r\n        />{text}\r\n    </div>\r\n)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__6_w1W\",\"error\":\"FormsControls_error__3Cunn\",\"formSummaryError\":\"FormsControls_formSummaryError__A7csE\"};","export default __webpack_public_path__ + \"static/media/preloader.81453d27.gif\";","import preloader from \"../../../assets/images/preloader.gif\";\r\nimport React from \"react\";\r\n\r\nlet Preloader = () => {\r\n    return (\r\n        <div>\r\n            <img src={preloader}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__w67eW\",\"pageNumber\":\"Paginator_pageNumber__3WMJy\",\"selectedPage\":\"Paginator_selectedPage__24KRq\"};","export const required = (value) => {\r\n    if (value) return undefined\r\n    return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__tksdI\",\"loginBlock\":\"Header_loginBlock__lvuqL\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST'\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_STATUS = 'SET_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\n\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Hi, how are you?', likes: 10},\r\n        {id: 2, message: 'It\\'s my first post', likes: 15},\r\n    ],\r\n    profile: null,\r\n    status: '',\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 3,\r\n                message: action.newPostText,\r\n                likes: 0,\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: '',\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id != action.postId)\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId})\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data))\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}